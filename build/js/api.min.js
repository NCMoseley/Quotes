!function(e){e.ajax({method:"get",url:api_vars.root_url+"wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){var o=t[0].content.rendered,r=t[0].title.rendered,u=t[0]._qod_quote_source;u.length&&(r+=","),console.log(r),e("#quote").html(o),e("#author").html(r),e("#source").html('<a href="'+u+'">'+u+"</a>")}),e("#new-quote-button").on("click",function(t){t.preventDefault(),e.ajax({method:"get",url:api_vars.root_url+"wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){var o=t[0].content.rendered,r=t[0].title.rendered,u=t[0]._qod_quote_source;u.length&&(r+=",");var a=t[0].slug,n=api_vars.home_url+"/"+a+"/";history.pushState(null,null,n),e("#quote").html(o),e("#author").html(r),e("#source").html('<a href="'+u+'">'+u+"</a>")})}),e("#submit").on("click",function(t){t.preventDefault();var o=e("#quote-content").val(),r=e("#quote-author").val(),u=e("#quote-source").val(),a=e("#quote-source-url").val();e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:{title:r,content:o,_qod_quote_source:u,_qod_quote_source_url:a,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){alert("Success! Thank you for this post."),e("#quote-content, textarea").val(""),e("#quote-author, textarea").val(""),e("#quote-source, textarea").val(""),e("#quote-source-url, textarea").val("")})})}(jQuery);